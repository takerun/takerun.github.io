<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
 "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<title>記事集1</title>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript">
<!--
  /*(ボツ)文字数を数えるfanction
  function check(obj){
    var n=obj;
    while(n){
      if(n.nodeName=="TEXTAREA"){var ta=n;break;}
      n=n.previousSibling;
    }
    var n=obj;
    while(n){
      if(n.nodeName=="INPUT" && n.type=="text"){var tb=n;break;}
      n=n.previousSibling;
    }
    tb.value=ta.value.replace(/[\n\r]/g,"").length;
  }*/
  $(function(){
    $.each($('textarea'),function(){
      $(this).bind('keydown keyup keypress change',function(){
        var thisValueLength = $(this).val().length;
        $(this).nextAll('.count').html(thisValueLength + "文字");
      });
    });
  });
//-->
</script>
</head>


<body>
  <p><b>記事一覧</b></p>
  <p>以下に5つの記事が載っています。記事の下には下書きスペースがあるので自由に使ってください。</p>
  <noscript><b>ブラウザの設定で JavaScript を有効にしてください。</b></noscript>
<!--html部-->
  <div name="set1">
    <span id="url1"></span>
    <iframe id="frame1" width="95%" height="500">
    </iframe>
    <form>
      <p>下書きスペース</p>
      <textarea name="textarea" rows="4" cols="50" maxlength="110"></textarea>
      <span class="count">0文字</span>
    </form>
  </div>
  <div name="set2">
    <span id="url2"></span>
    <iframe id="frame2" width="95%" height="500">
    </iframe>
    <form>
      <p>下書きスペース</p>
      <textarea name="textarea" rows="4" cols="50" maxlength="110"></textarea>
      <span class="count">0文字</span>
    </form>
  </div>
  <div name="set3">
    <span id="url3"></span>
    <iframe id="frame3" width="95%" height="500">
    </iframe>
    <form>
      <p>下書きスペース</p>
      <textarea name="textarea" rows="4" cols="50" maxlength="110"></textarea>
      <span class="count">0文字</span>
    </form>
  </div>
  <div name="set4">
    <span id="url4"></span>
    <iframe id="frame4" width="95%" height="500">
    </iframe>
    <form>
      <p>下書きスペース</p>
      <textarea name="textarea" rows="4" cols="50" maxlength="110"></textarea>
      <span class="count">0文字</span>
    </form>
  </div>
  <div name="set5">
    <span id="url5"></span>
    <iframe id="frame5" width="95%" height="500">
    </iframe>
    <form>
      <p>下書きスペース</p>
      <textarea name="textarea" rows="4" cols="50" maxlength="110"></textarea>
      <span class="count">0文字</span>
    </form>
  </div>
<!--スクリプト部-->
  <script type="text/javascript">
  <!--
  kiji1 = "http://www.huffingtonpost.jp/2015/09/29/china-arrests-three-japanese_n_8217998.html";
  kiji2 = "http://www.huffingtonpost.jp/sharescafe-online/women-employment-success_b_8217248.html";
  kiji3 = "http://www.huffingtonpost.jp/2015/09/28/miura-rieko-married_n_8211446.html";
  kiji4 = "http://www.huffingtonpost.jp/autoblog-japan/ceovw_b_8211120.html";
  kiji5 = "http://www.huffingtonpost.jp/2015/09/24/fruits-and-vegetables-diet-depression_n_8188132.html";

  var kijiset = [[1,kiji1],
                [2,kiji2],
                [3,kiji3],
                [4,kiji4],
                [5,kiji5]
                ];
  var index = kijiset.length;
  var kijis = new Array();
  for (var i = 0; i < index; i++)
  {
    var rnd = Math.floor(Math.random()*(index-i)); //乱数
    kijis.push(kijiset[rnd]);
    var element = document.getElementById("url" + (i+1));
    element.innerHTML = "<b>記事" + (i+1) + "</b>,整理番号" + kijiset[rnd][0] +
      ":<a href=" + kijiset[rnd][1] + " target=_blank>" + kijiset[rnd][1] + "</a><br>";
    document.getElementById("frame" + (i+1)).src = kijiset[rnd][1];
    kijiset.splice(rnd,1);
  }
  // -->
  </script>
</body>
</html>
